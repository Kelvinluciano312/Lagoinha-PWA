<!DOCTYPE html>
<html>
<head>
  <title>Admin Page</title>
  <link rel="stylesheet" href="../admin.css">
  <script src="../admin.js"></script>
  <script src="../admin-update.js"></script>
  <style>
    /* ... existing CSS ... */
    #slideshow {
      width: 1920px;
      height: 1080px;
    }
  </style>
</head>
<body>
  <h1>Admin Page</h1>
  <form action="/lagoIMG/logo" method="post" enctype="multipart/form-data">
    <input type="file" name="logo" accept="image/*">
    <input type="submit" value="Upload Logo">
  </form>
  <form action="/lagoIMG/lagoHead" method="post" enctype="multipart/form-data">
    <input type="file" name="lagoHead" accept="image/*">
    <input type="submit" value="Upload Header">
  </form>
  <form action="/lagoIMG/sideBar" method="post" enctype="multipart/form-data">
    <input type="file" name="sideBar" accept="image/*">
    <input type="submit" value="Upload Side Bar">
  </form>   

  <div id="slideshow">
    <img id="logo" src="/logo.png?time=${new Date().getTime()}" alt="logo" class="slide" style="display:none">
    <img id="lagoHead" src="/lagoHead.png?time=${new Date().getTime()}" alt="lagoHead" class="slide" style="display:none">
    <img id="sideBar" src="/sideBar.png?time=${new Date().getTime()}" alt="sideBar" class="slide" style="display:none">    
  </div>

  <script>
    var slideIndex = 0;
    showSlides();

    // Preload images
    var slides = document.getElementsByClassName("slide");
    var preloadedImages = [];
    for (var i = 0; i < slides.length; i++) {
      preloadedImages[i] = new Image();
      preloadedImages[i].src = slides[i].src.split('?')[0] + '?uuid=' + generateUUID();
    }

    function showSlides() {
      for (var i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) {slideIndex = 1}
      // Use preloaded image
      slides[slideIndex-1].src = preloadedImages[slideIndex-1].src;
      slides[slideIndex-1].style.display = "block";
      setTimeout(showSlides, 3000); // Change image every 3 seconds
    }

    function generateUUID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
      });
    }



  </script>
</body>
</html>